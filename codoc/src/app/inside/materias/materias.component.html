<mat-toolbar class="segunda-fila">
    <span>Materias</span>
</mat-toolbar>

<div class="opciones">
    <mat-form-field  appearance="fill">
        <mat-label>Buscar por</mat-label>
        <mat-select [(value)]="buscarPor">
          <mat-option value="nombre" aria-selected="true">Nombre</mat-option>
          <mat-option value="codigo">Código</mat-option>
        </mat-select>
      </mat-form-field>

        <mat-form-field appearance="fill"  class="buscar">
        <mat-label>Buscar</mat-label>
        <input type="text"
                placeholder="{{buscarPor}}"
                matInput
                [matAutocomplete]="auto">
        <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
            <mat-option *ngFor="let materia of dataToDisplay">
                {{materia.codigo}} - {{materia.nombre}}
            </mat-option>
        </mat-autocomplete>
        </mat-form-field>
        
        <button  mat-mini-fab color="primary" matTooltip="Añadir materia">
          <mat-icon>add</mat-icon>
        </button>
</div>

<mat-divider></mat-divider>

<div class="materias">
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort (matSortChange)="sortData($event)">

        <ng-container matColumnDef="codigo">
          <th mat-header-cell *matHeaderCellDef mat-sort-header="codigo"> Código </th>
          <td mat-cell *matCellDef="let materia"> {{materia.codigo}} </td>
        </ng-container>
      
        <ng-container matColumnDef="nombre">
          <th mat-header-cell *matHeaderCellDef mat-sort-header="nombre"> Nombre </th>
          <td mat-cell *matCellDef="let materia"> {{materia.nombre}} </td>
        </ng-container>
      
        <ng-container matColumnDef="silabo">
          <th mat-header-cell *matHeaderCellDef mat-sort-header="silabo"> Sílabo </th>
            <td mat-cell *matCellDef="let materia">
                <mat-icon *ngIf="materia.silabo >= 1">check</mat-icon>
            </td>
        </ng-container>
      
        <ng-container matColumnDef="parcial_1">
          <th mat-header-cell *matHeaderCellDef mat-sort-header="p1"> P1 </th>
          <td mat-cell *matCellDef="let materia">
              <mat-icon *ngIf="materia.parcial_1 >= 1">check</mat-icon>
          </td>
        </ng-container>
      
        <ng-container matColumnDef="parcial_2">
          <th mat-header-cell *matHeaderCellDef mat-sort-header="p2"> P2 </th>
          <td mat-cell *matCellDef="let materia">
              <mat-icon *ngIf="materia.parcial_2 >= 1">check</mat-icon>
          </td>
        </ng-container>
      
        <ng-container matColumnDef="parcial_3">
          <th mat-header-cell *matHeaderCellDef mat-sort-header="p3"> P3 </th>
          <td mat-cell *matCellDef="let materia">
              <mat-icon *ngIf="materia.parcial_3 >= 1">check</mat-icon>
          </td>
        </ng-container>
      
        <ng-container matColumnDef="nota_1">
          <th mat-header-cell *matHeaderCellDef mat-sort-header="n1"> N1 </th>
          <td mat-cell *matCellDef="let materia">
              <mat-icon *ngIf="materia.nota_1 >= 1">check</mat-icon>
          </td>
        </ng-container>
      
        <ng-container matColumnDef="nota_2">
          <th mat-header-cell *matHeaderCellDef mat-sort-header="n2"> N2 </th>
          <td mat-cell *matCellDef="let materia">
              <mat-icon *ngIf="materia.nota_2 >= 1">check</mat-icon>
          </td>
        </ng-container>
      
        <ng-container matColumnDef="nota_3">
          <th mat-header-cell *matHeaderCellDef mat-sort-header="n3"> N3 </th>
          <td mat-cell *matCellDef="let materia">
              <mat-icon *ngIf="materia.nota_3 >= 1">check</mat-icon>
          </td>
        </ng-container>
      
        <ng-container matColumnDef="planilla">
          <th mat-header-cell *matHeaderCellDef mat-sort-header="planilla"> Planilla </th>
          <td mat-cell *matCellDef="let materia">
            <button mat-icon-button color="primary">
                <mat-icon *ngIf="materia.planilla >= 1">check</mat-icon>
            </button>
          </td>
        </ng-container>
      
        <ng-container matColumnDef="editar">
            <th mat-header-cell *matHeaderCellDef mat-sort-header="editar"> Editar </th>
            <td mat-cell *matCellDef="let materia">
                <button mat-icon-button>
                    <mat-icon   (click)="openDialog()">edit</mat-icon>
                </button>
            </td>
        </ng-container>

        <ng-container matColumnDef="ciudad">
          <th mat-header-cell *matHeaderCellDef mat-sort-header="ciudad"> Ciudad </th>
          <td mat-cell *matCellDef="let materia"> {{materia.ciudad}} </td>
        </ng-container>
      
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
</div>

